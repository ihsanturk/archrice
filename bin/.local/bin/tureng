#!/bin/sh
#
# Created: 2020 Feb 09 22:54:30 

pgrep tureng-api &>/dev/null || tureng-api &>/dev/null
mkdir -p ${HOME}/.cache/tureng/
while read args; do
   phrase=$(echo $args | sed 's/ /+/g' | tr '[:upper:]' '[:lower:]');
   file=${HOME}/.cache/tureng/$phrase.json;
   curl -so $file "localhost:8080/translate/$phrase" &&
   cat $file | jq -r '.response|.[]|.tr';
done < "${@:-/dev/stdin}" # TODO If there is at least one argument then get
#                           that instead of stdin.

# cat $file | jq -r '.response|.[]|.en +", "+ .tr + ", " + .kategori';
