#!/bin/sh

#
# This script only runs with linux like systems or
# if these (look below) files exist
#

br_path="/sys/class/backlight/intel_backlight/brightness"
br_max_path="/sys/class/backlight/intel_backlight/max_brightness"

if [ $1 -lt 1 ]; then
  value=1;
elif [ $1 -gt 100 ]; then
  value=100;
else
  value=$1;
fi

rate=$(bc -l <<< "$(cat $br_max_path) / 100")
value=$(bc -l <<< "scale=1; ${value} * ${rate}" | cut -d. -f1)

printf "${value}" > ${br_path}
