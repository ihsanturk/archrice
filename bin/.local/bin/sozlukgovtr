#!/bin/sh
#
# Updated: 2020 Feb 09 22:47:02
#
# Requirements:
#   - jq
#   - curl

url='https://sozluk.gov.tr/gts?ara='
cachedir=$HOME/.cache/sozlukgovtr
mkdir -p $cachedir

while read args; do 
	cache=$cachedir/`echo $args | sed 's/ /+/g'`.json
	phrase=`echo $args | sed 's/ /%20/g'`
	[ -f $cache ] || curl -so $cache ${url}${phrase} &&
	cat $cache | jq -r '.[].anlamlarListe[].anlam' 2> /dev/null;
done # TODO If there is at least one argument then get that instead of stdin.
