#!/bin/sh

# Append all arguments to $db as one move.

db=${HOME}/Dropbox/Data/moves.db

# Append move.
[ -f $db ] || touch $db; sqlite3 $db "create table if not exists \
moves(move TEXT, date DATETIME DEFAULT CURRENT_TIMESTAMP)"
MoveCount() { sqlite3 $db 'select count(move) from moves'|tr -d '\n'; }
txt="$@"
[ $# -gt 0 ] && sqlite3 $db "INSERT INTO moves(move) VALUES('$txt')" && 
	echo "`tput setaf 2; tput bold`That is your `MoveCount`. move" ||
	echo "`tput setaf 1; tput bold`Please give some args to eat. I feel lonely.\
	`tput setaf sgr0`"
