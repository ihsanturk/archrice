"=== settings ==="
let mapleader = '\'
syntax on
set timeout
set hlsearch
set ttimeout
set incsearch
set smartcase
set expandtab
set tabstop=2
set noswapfile
set ignorecase
set shiftwidth=2
set ttimeoutlen=10
set timeoutlen=1000
set statusline=%f\ %y\ %l\ %c
scriptencoding utf-8
filetype plugin indent on
let g:netrw_dirhistmax = 0
setglobal fileencoding=utf-8

"=== design ==="
set number
set cursorline
colorscheme delek
hi LineNr ctermfg=238
hi cursorline cterm=NONE ctermbg=237
hi CursorLineNr cterm=bold ctermfg=6
hi StatusLine cterm=bold ctermfg=72 ctermbg=236

"=== global copy ==="
if has('unnamedplus')
	set clipboard=unnamed,unnamedplus
endif

"=== persistent undo ==="
if has('persistent_undo')
  set undofile
  set undodir=~/.cache/vim
endif

"=== delete without cut ==="
nmap <leader>d "_d

"=== delete spaces end of lines ==="
augroup fmt
	autocmd!
	autocmd BufWritePost,FileWritePost * :silent! %s/\s\+$//
augroup END

"=== shortcut ==="
nmap n nzz
nmap N Nzz
nmap <Tab> :bn<CR>
nmap <S-Tab> :bp<CR>
nmap <esc><esc> :noh<CR>
nmap <leader>r :so ~/.config/nvim/vimrc<CR>
tno <Esc> <C-\><C-n>

map q: :q
cnorea W w
cnorea Q q
cnorea qw wq
cnorea Wq wq
cnorea Q! q!

"=== comment ==="
"c,cpp
autocmd FileType c,cpp nmap <leader>c mxA */<esc>I/* <esc>'x:noh<CR>
autocmd FileType c,cpp nmap <leader>u :s/\/\* //g<CR>:s/ \*\///g<CR>:noh<CR>
autocmd FileType c,cpp vmap <leader>c <esc>`>a */<esc>`<i/*<esc>`>:noh<CR>
autocmd FileType c,cpp vmap <leader>u :s/\/\*//g<CR>gv:s/ \*\///g<CR>:noh<CR>
